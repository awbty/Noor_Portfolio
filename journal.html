<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Journal | Noor Al-Huwaidi</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/x-icon" href="images/favicon.ico">
    <style>
        /* Specific overrides for Journal Modals */
        .journal-modal-img {
            width: 100%;
            height: 300px; /* Fixed height to take up top portion */
            object-fit: cover;    /* Crops image to fill area */
            object-position: center; /* Centers the crop */
            display: block;
        }
    </style>
</head>
<body>

<nav>
    <div class="container nav-inner">

        <!-- NEW: Container that holds both Logo and Text together -->
        <a href="index.html" class="logo-container">
            <img src="images/Navigation_logo.png" class="logo-img" alt="Noor Logo">
            <div class="logo-text">Noor Al-huwaidi</div>
        </a>

        <!-- Hamburger toggle (visible on mobile) -->
        <button id="navToggle" class="nav-toggle" aria-label="Open menu" aria-expanded="false">
            <span></span>
        </button>

        <div class="nav-links">
            <a href="index.html">Home</a>
            <a href="about.html">About</a>
            <a href="cv.html">CV</a>
            <a href="journal.html">Journal</a>
            <a href="showroom.html">Showroom</a>
        </div>
    </div>
</nav>

<section id="blog" style="padding-top: 120px;">
    <div class="container">
        <h2>Design Journal</h2>
        <div class="blog-intro">
            <p>My personal technical diary. Documenting material experiments, site challenges, and industry opinions.</p>
        </div>

        <div class="blog-grid">
            <!-- Post 1 -->
            <article class="blog-card" onclick="openModal('post1')">
                <div class="blog-img">
                    <img src="https://picsum.photos/seed/blog1/400/300" alt="Material Science">
                </div>
                <div class="blog-content">
                    <div class="blog-tag">Technical Opinion</div>
                    <h3>Sustainable Materials in Arid Climates</h3>
                    <p>Why traditional stone and modern composites are redefining sustainability in the Gulf region.</p>
                </div>
            </article>

            <!-- Post 2 -->
            <article class="blog-card" onclick="openModal('post2')">
                <div class="blog-img">
                    <img src="https://picsum.photos/seed/blog2/400/300" alt="Project Journal">
                </div>
                <div class="blog-content">
                    <div class="blog-tag">Project Journal</div>
                    <h3>The Al-Nassir Villa Renovation</h3>
                    <p>A day-by-day breakdown of the structural challenges faced.</p>
                </div>
            </article>

            <!-- Post 3 -->
            <article class="blog-card" onclick="openModal('post3')">
                <div class="blog-img">
                    <img src="https://picsum.photos/seed/blog3/400/300" alt="Lighting">
                </div>
                <div class="blog-content">
                    <div class="blog-tag">Experience</div>
                    <h3>The Psychology of Lighting</h3>
                    <p>How natural light manipulation affects perceived space.</p>
                </div>
            </article>
        </div>
    </div>
</section>

<footer>
    <div class="container">
        <p class="copyright">&copy; 2023 Alex Design. All rights reserved.</p>
    </div>
</footer>

<!-- Article Modals (Now with Image on Top) -->

<!-- Post 1 Modal -->
<div id="post1" class="modal">
    <span class="close" onclick="closeModal('post1')">&times;</span>
    <div class="modal-content modal-layout-journal">
        <div class="journal-img-wrapper">
            <img src="https://picsum.photos/seed/blog1_large/800/400" alt="Header Image">
        </div>
        <div class="journal-text-wrapper">
            <h3>Sustainable Materials in Arid Climates</h3>
            <p style="margin-top: 20px;">In the harsh environment of the GCC, insulation is key. However, modern insulation often lacks the aesthetic appeal of traditional architecture.</p>
            <p>We are seeing a resurgence in the use of <strong>compressed earth blocks</strong>. These provide excellent thermal mass while maintaining a low carbon footprint. Combined with modern passive cooling techniques, we can reduce energy consumption by up to 40% in residential villas.</p>
        </div>
    </div>
</div>

<!-- Post 2 Modal -->
<div id="post2" class="modal">
    <span class="close" onclick="closeModal('post2')">&times;</span>
    <div class="modal-content modal-layout-journal">
        <div class="journal-img-wrapper">
            <img src="https://picsum.photos/seed/blog2_large/800/400" alt="Header Image">
        </div>
        <div class="journal-text-wrapper">
            <h3>The Al-Nassir Villa Renovation</h3>
            <p style="margin-top: 20px;"><strong>Day 1:</strong> Initial site survey revealed structural weak points in the load-bearing columns.</p>
            <p><strong>Day 5:</strong> Collaboration with structural engineers to propose steel reinforcement without altering the external facade.</p>
            <p><strong>Day 20:</strong> Demolition of internal partitions. We uncovered original geometric tiling that we decided to restore rather than replace.</p>
        </div>
    </div>
</div>

<!-- Post 3 Modal -->
<div id="post3" class="modal">
    <span class="close" onclick="closeModal('post3')">&times;</span>
    <div class="modal-content modal-layout-journal">
        <div class="journal-img-wrapper">
            <img src="https://picsum.photos/seed/blog3_large/800/400" alt="Header Image">
        </div>
        <div class="journal-text-wrapper">
            <h3>The Psychology of Lighting</h3>
            <p style="margin-top: 20px;">Lighting dictates the mood. High-intensity cool light increases focus but reduces comfort. Warm, dim light encourages relaxation.</p>
            <p>In the Showroom projects, I utilize <strong>layered lighting</strong>: ambient, task, and accent. This allows the user to change the atmosphere of the room from "Work Mode" to "Relax Mode" with the flip of a switch.</p>
        </div>
    </div>
</div>

<script>
    // --- MODAL LOGIC ---
    function openModal(id) {
        document.getElementById(id).style.display = "block";
        setTimeout(() => document.getElementById(id).classList.add('show'), 10);
    }

    function closeModal(id) {
        const modal = document.getElementById(id);
        modal.classList.remove('show');
        setTimeout(() => modal.style.display = "none", 300);
    }

    // --- UNIFIED CLICK HANDLER (Fixes the conflict) ---
    document.addEventListener('click', (e) => {
        
        // 1. Handle Clicking OUTSIDE the Modal (to close it)
        const modals = document.querySelectorAll('.modal.show');
        modals.forEach(modal => {
            // If the click target is NOT inside the modal, close it
            if (!modal.contains(e.target)) {
                closeModal(modal.id);
            }
        });

        // 2. Handle Clicking OUTSIDE the Nav (to close the hamburger menu)
        const nav = document.querySelector('nav');
        const navToggle = document.getElementById('navToggle');
        
        if (nav && navToggle && nav.classList.contains('nav-open')) {
            // If the click is NOT inside the nav, close the menu
            if (!nav.contains(e.target)) {
                nav.classList.remove('nav-open');
                navToggle.setAttribute('aria-expanded', 'false');
            }
        }
    });

    // --- TOGGLE BUTTON LOGIC ---
    const navToggle = document.getElementById('navToggle');
    if (navToggle) {
        navToggle.addEventListener('click', (e) => {
            // We removed 'stopPropagation' and 'preventDefault' because they were causing the button to fail.
            
            const nav = document.querySelector('nav');
            if (!nav) return;

            const opened = nav.classList.toggle('nav-open');
            navToggle.setAttribute('aria-expanded', opened ? 'true' : 'false');
        });
    }

    // --- WINDOW RESIZE LOGIC ---
    window.addEventListener('resize', () => {
        const nav = document.querySelector('nav');
        const navToggle = document.getElementById('navToggle');
        
        // If window is big again, ensure menu is closed and reset state
        if (window.innerWidth > 768 && nav && nav.classList.contains('nav-open')) {
            nav.classList.remove('nav-open');
            if(navToggle) navToggle.setAttribute('aria-expanded', 'false');
        }
    });
</script>
</body>
</html>